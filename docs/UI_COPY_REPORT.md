# 스톡인사이트 V3 UI 문구 보고서

**작성일**: 2026-01-02  
**버전**: V3  
**목적**: 화면에 표시되는 모든 문구를 케이스별, 상황별로 정리

---

## 목차

1. [상단 배너 (DayStatusBanner)](#1-상단-배너-daystatusbanner)
2. [NEW 카드 (DailyDigestCard)](#2-new-카드-dailydigestcard)
3. [ACTIVE 추천 카드](#3-active-추천-카드)
4. [WEAK_WARNING 추천 카드](#4-weak_warning-추천-카드)
5. [BROKEN 추천 카드](#5-broken-추천-카드)
6. [ARCHIVED 추천 카드](#6-archived-추천-카드)
7. [섹션 헤더](#7-섹션-헤더)
8. [빈 상태 메시지](#8-빈-상태-메시지)
9. [종료 사유 문구](#9-종료-사유-문구)
10. [메타 정보](#10-메타-정보)

---

## 1. 상단 배너 (DayStatusBanner)

### 1.1 휴장일
- **조건**: `dailyDigest.window === 'HOLIDAY'`
- **문구**: "오늘은 시장 휴장일입니다"
- **색상**: 파란색 계열 (`bg-blue-50 border-blue-200`)

### 1.2 15:35 이전 (장중/장전)
- **조건**: `dailyDigest.window === 'PRE_1535'`
- **문구**: "오늘 새로운 추천은 추가되지 않았습니다"
- **색상**: 파란색 계열 (`bg-blue-50 border-blue-200`)

### 1.3 15:35 이후 - 신규 추천 있음
- **조건**: `dailyDigest.window === 'POST_1535'` && `new_recommendations > 0`
- **문구**: "오늘 새로운 추천이 추가되었습니다"
- **색상**: 초록색 계열 (`bg-green-50 border-green-200`)

### 1.4 15:35 이후 - 기존 추천 유지
- **조건**: `dailyDigest.window === 'POST_1535'` && `new_recommendations === 0` && `activeItems.length > 0`
- **문구**: "오늘 새로운 추천은 추가되지 않았습니다"
- **색상**: 파란색 계열 (`bg-blue-50 border-blue-200`)

### 1.5 15:35 이후 - 추천 없음
- **조건**: `dailyDigest.window === 'POST_1535'` && `new_recommendations === 0` && `activeItems.length === 0`
- **문구**: "오늘 새로운 추천은 추가되지 않았습니다"
- **색상**: 회색 계열 (`bg-gray-50 border-gray-200`)

---

## 2. NEW 카드 (DailyDigestCard)

### 2.1 카드 제목
- **문구**: "오늘 추천에 변화가 있었습니다"
- **조건**: `dailyDigest.has_changes === true`

### 2.2 이벤트 문구

#### 2.2.1 BROKEN 종목 (추천 관리 종료)
- **기본 문구**: "· {종목명} – 추천 관리 종료"
- **사유 포함 문구**: "· {종목명} – 추천 관리 종료 ({종료사유})"
- **종료 사유 매핑**:
  - `TTL_EXPIRED` → "관리 기간 종료"
  - `NO_MOMENTUM` → "이전 흐름 유지 실패"
  - `MANUAL_ARCHIVE` → "운영자 종료"

#### 2.2.2 WEAK_WARNING 종목 (이전과 다른 움직임 감지)
- **문구**: "· {종목명} – 이전과 다른 움직임 감지"

### 2.3 축약 규칙
- **2건 이하**: 모든 이벤트 표시
- **3건 이상**: 첫 번째 종목 1건만 표시 + "· 외 N건"

**예시**:
```
· 삼성전자 – 추천 관리 종료
· 외 2건
```

---

## 3. ACTIVE 추천 카드

### 3.1 카드 상단
- **종목명**: `{name}` 또는 `{ticker} (종목 정보 불러오는 중)`
- **종목 코드**: `{ticker}` (작은 글씨, 회색)
- **손익률 라벨**: "추천 후 손익"
- **손익률 값**:
  - 수익: `+{값}%` (빨간색, `text-red-500`)
  - 손실: `{값}%` (파란색, `text-blue-500`)
  - 없음: `—` (회색, 반투명)

### 3.2 상태 설명 문구
- **문구**: "현재 추천은 변경 없이 유지되고 있습니다"
- **위치**: 카드 본문 중앙
- **색상**: 회색 계열 (`text-gray-700`)

### 3.3 메타 정보
- **형식**: "추천일 {YYYY.MM.DD} · {N}거래일 경과"
- **예시**: "추천일 2025.12.31 · 3거래일 경과"
- **위치**: 카드 하단
- **색상**: 회색 계열, 반투명 (`opacity-70`)

---

## 4. WEAK_WARNING 추천 카드

### 4.1 카드 상단
- **종목명**: `{name}` 또는 `{ticker} (종목 정보 불러오는 중)`
- **종목 코드**: `{ticker}` (작은 글씨, 회색)
- **손익률 라벨**: "추천 후 손익"
- **손익률 값**:
  - 수익: `+{값}%` (빨간색, `text-red-500`)
  - 손실: `{값}%` (파란색, `text-blue-500`)
  - 없음: `—` (회색, 반투명)

### 4.2 상태 설명 문구
- **문구**: "추천 이후 이전과 다른 움직임이 감지되었습니다"
- **위치**: 카드 본문 중앙
- **색상**: 회색 계열 (`text-gray-700`)

### 4.3 메타 정보
- **형식**: "추천일 {YYYY.MM.DD} · {N}거래일 경과"
- **예시**: "추천일 2025.12.31 · 3거래일 경과"
- **위치**: 카드 하단
- **색상**: 회색 계열, 반투명 (`opacity-70`)

### 4.4 CTA 버튼
- **문구**: "차트 보기"
- **위치**: 카드 하단 우측
- **스타일**: 인디고색 버튼 (`bg-indigo-600`)

---

## 5. BROKEN 추천 카드

### 5.1 카드 상단
- **종목명**: `{name}` 또는 `{ticker} (종목 정보 불러오는 중)`
- **종목 코드**: `{ticker}` (작은 글씨, 회색)
- **손익률 라벨**: "추천 후 손익"
- **손익률 값**:
  - 수익: `+{값}%` (빨간색, `text-red-500`)
  - 손실: `{값}%` (파란색, `text-blue-500`)
  - 없음: `—` (회색, 반투명)

### 5.2 상태 설명 문구
- **문구**: "추천 관리가 종료되었습니다"
- **위치**: 카드 본문 중앙
- **색상**: 회색 계열 (`text-gray-700`)

### 5.3 종료 사유
- **조건**: `reason` 값이 있을 때만 표시
- **형식**: "사유: {종료사유}"
- **종료 사유 매핑**:
  - `TTL_EXPIRED` → "관리 기간 종료"
  - `NO_MOMENTUM` → "이전 흐름 유지 실패"
  - `MANUAL_ARCHIVE` → "운영자 종료"
- **위치**: 상태 설명 문구 바로 아래
- **색상**: 회색 계열 (`text-gray-700`)

### 5.4 메타 정보
- **형식**: "추천일 {YYYY.MM.DD} · {N}거래일 경과"
- **예시**: "추천일 2025.12.31 · 3거래일 경과"
- **위치**: 카드 하단
- **색상**: 회색 계열, 반투명 (`opacity-70`)

---

## 6. ARCHIVED 추천 카드

### 6.1 카드 상단
- **상태 배지**: "관찰 종료" (회색 배지, `bg-gray-100 text-gray-700`)
- **메타 정보**: "추천일 {YYYY.MM.DD} · 관찰 {N}거래일"
- **예시**: "추천일 2025.12.31 · 관찰 20거래일"

### 6.2 종목명
- **종목명**: `{name}` 또는 `{ticker} (종목 정보 불러오는 중)`
- **종목 코드**: `{ticker}` (작은 글씨, 회색)

### 6.3 상태 설명 문구
- **문구**: "추천 관리 기간이 종료되었습니다."
- **위치**: 카드 본문 중앙
- **색상**: 회색 계열 (`text-gray-700`)

### 6.4 종료 사유
- **조건**: `archive_reason` 값이 있을 때만 표시
- **형식**: "종료 사유: {종료사유}"
- **종료 사유 매핑**:
  - `TTL_EXPIRED` → "관리 기간 종료"
  - `NO_MOMENTUM` → "이전 흐름 유지 실패"
  - `MANUAL_ARCHIVE` → "운영자 종료"
- **위치**: 상태 설명 문구 바로 아래
- **색상**: 회색 계열 (`text-gray-700`)

### 6.5 보조 설명
- **조건**: 수익률에 따라 문구 변경
- **수익률 > 0**: "기간 동안 유효하게 관찰되었습니다."
- **수익률 < 0**: "손절 기준에는 도달하지 않았습니다."
- **수익률 없음**: "성과와 무관하게 추천 관찰이 마무리되었습니다."
- **위치**: 종료 사유 아래
- **색상**: 회색 계열 (`text-gray-600`)

### 6.6 수익률 표시 (선택)
- **조건**: `archive_return_pct` 또는 `current_return` 값이 있을 때만 표시
- **형식**: `{값}%` (수익: `+`, 손실: `-`)
- **위치**: 보조 설명 아래
- **색상**: 매우 낮은 시각적 우선순위 (회색, 반투명, `text-gray-400 opacity-50`)

---

## 7. 섹션 헤더

### 7.1 관리 필요 섹션
- **제목**: "관리 필요"
- **조건**: BROKEN 상태 추천이 있을 때 표시
- **카운트 배지**: 빨간색 배지에 BROKEN 항목 개수 표시

### 7.2 현재 추천 섹션
- **제목**: "현재 추천"
- **조건**: ACTIVE 또는 WEAK_WARNING 상태 추천이 있을 때 표시
- **카운트 배지**: 없음

### 7.3 빈 상태 메시지

#### 7.3.1 관리 필요 섹션 (BROKEN이 0개일 때)
- **문구**: "현재 관리 필요 종목이 없습니다"
- **위치**: 섹션 내부 중앙
- **색상**: 회색 계열 (`text-gray-500`)

---

## 8. 빈 상태 메시지

### 8.1 추천 없음 카드 (NoRecommendationsCard)
- **조건**: 거래일이고 ACTIVE, WEAK_WARNING, BROKEN 모두 0개일 때
- **제목**: "오늘은 새로운 추천이 없습니다"
- **요약**: "현재 시장에서는 관찰이 더 필요한 상황입니다"
- **보조 설명**: "조건이 충족되면 추천으로 안내드립니다"
- **색상**: 회색 계열 (`bg-gray-50 border-gray-200`)

### 8.2 ARCHIVED 페이지 빈 상태
- **조건**: ARCHIVED 항목이 0개일 때
- **문구**: "관찰 종료된 추천이 없습니다."
- **위치**: 페이지 중앙
- **색상**: 회색 계열 (`text-gray-500`)

---

## 9. 종료 사유 문구

### 9.1 종료 사유 코드 매핑
| 코드 | 사용자 문구 |
|------|------------|
| `TTL_EXPIRED` | 관리 기간 종료 |
| `NO_MOMENTUM` | 이전 흐름 유지 실패 |
| `MANUAL_ARCHIVE` | 운영자 종료 |

### 9.2 표시 위치

#### 9.2.1 BROKEN 카드
- **형식**: "사유: {종료사유}"
- **위치**: 상태 설명 문구 바로 아래

#### 9.2.2 ARCHIVED 카드
- **형식**: "종료 사유: {종료사유}"
- **위치**: 상태 설명 문구 바로 아래

#### 9.2.3 NEW 카드 (DailyDigestCard)
- **형식**: "· {종목명} – 추천 관리 종료 ({종료사유})"
- **조건**: `reason` 값이 있을 때만 사유 포함

---

## 10. 메타 정보

### 10.1 날짜 형식
- **입력**: `YYYY-MM-DD` 또는 ISO 8601 형식
- **출력**: `YYYY.MM.DD`
- **예시**: `2025-12-31` → `2025.12.31`

### 10.2 경과 거래일 계산
- **기준**: 추천일(`anchor_date` 또는 `created_at`)부터 현재까지의 거래일 수
- **표시 형식**: "{N}거래일 경과" 또는 "관찰 {N}거래일"

### 10.3 메타 정보 조합

#### 10.3.1 ACTIVE/WEAK_WARNING/BROKEN 카드
- **형식**: "추천일 {YYYY.MM.DD} · {N}거래일 경과"
- **예시**: "추천일 2025.12.31 · 3거래일 경과"

#### 10.3.2 ARCHIVED 카드
- **형식**: "추천일 {YYYY.MM.DD} · 관찰 {N}거래일"
- **예시**: "추천일 2025.12.31 · 관찰 20거래일"

---

## 11. 기타 문구

### 11.1 ARCHIVED 진입 링크
- **문구**: "종료된 추천 보기 ({count})"
- **조건**: `archivedCount > 0`일 때만 표시
- **위치**: 관리 필요 섹션 바로 아래

### 11.2 ARCHIVED 페이지 제목
- **페이지 제목**: "관찰 종료된 추천"
- **메타 설명**: "관찰 종료된 추천 목록"

### 11.3 로딩 메시지
- **문구**: "데이터를 불러오는 중..."
- **위치**: 초기 로딩 시 표시

### 11.4 에러 메시지
- **기본 문구**: "데이터 불러오는 중 오류가 발생했습니다: {error.message}"
- **재시도 버튼**: "다시 시도"

---

## 12. 색상 체계

### 12.1 상태별 색상

| 상태 | 배경색 | 테두리 | 텍스트 |
|------|--------|--------|--------|
| ACTIVE | `bg-green-50` | `border-green-200` | `text-gray-700` |
| WEAK_WARNING | `bg-orange-50` | `border-orange-300` | `text-gray-700` |
| BROKEN | `bg-red-50` | `border-red-200` | `text-gray-700` |
| ARCHIVED | `bg-gray-50` | `border-gray-200` | `text-gray-700` |

### 12.2 손익률 색상
- **수익**: `text-red-500` (빨간색)
- **손실**: `text-blue-500` (파란색)
- **없음**: 회색, 반투명

### 12.3 배너 색상
- **신규 추천**: 초록색 계열 (`bg-green-50 border-green-200`)
- **기본/유지**: 파란색 계열 (`bg-blue-50 border-blue-200`)
- **추천 없음**: 회색 계열 (`bg-gray-50 border-gray-200`)
- **휴장일**: 파란색 계열 (`bg-blue-50 border-blue-200`)

---

## 13. 문구 변경 이력

### 13.1 최종 확정 문구 (2026-01-02)
- ACTIVE: "현재 추천은 변경 없이 유지되고 있습니다"
- WEAK_WARNING: "추천 이후 이전과 다른 움직임이 감지되었습니다"
- BROKEN: "추천 관리가 종료되었습니다"
- ARCHIVED: "추천 관리 기간이 종료되었습니다."

### 13.2 제거된 문구
- ❌ "관찰 중", "주의 신호", "관리 필요" (배지)
- ❌ "손절 조건", "관찰 기준", "관리 필요" (본문)
- ❌ "상태", "단계", "기준" (추상적 표현)
- ❌ 행동 유도 문구 ("확인하세요", "관리하세요" 등)

---

## 14. 참고 사항

### 14.1 문구 관리 원칙
1. **문구 테이블 기반**: 모든 문구는 `v3StatusMapping.js`의 상수로 관리
2. **하드코딩 금지**: 컴포넌트 내부에 문구를 직접 작성하지 않음
3. **일관성 유지**: 동일한 의미의 문구는 동일하게 표시
4. **사실 기반**: 판단, 해석, 행동 유도 표현 금지

### 14.2 문구 수정 시 주의사항
1. `v3StatusMapping.js`의 상수만 수정
2. 컴포넌트 코드는 수정하지 않음
3. 조사, 어미, 단어 하나도 변경하지 않음
4. 의미 변경 없이 그대로 반영

---

**문서 버전**: 1.0  
**최종 업데이트**: 2026-01-02

