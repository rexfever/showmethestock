INFO:     Will watch for changes in these directories: ['/Users/rexsmac/workspace/stock-finder/backend']
INFO:     Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO:     Started reloader process [16313] using WatchFiles
INFO:     Started server process [16316]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:51364 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:51366 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51366 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'scheduler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16316]
INFO:     Started server process [17827]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'scheduler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17827]
INFO:     Started server process [17977]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:54734 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 2개 매칭, 98개 필터링, 총 100개 중
📊 Step 0 결과: 2개 종목
✅ Step 0에서 목표 달성: 2개 종목 선택
🎯 최종 선택: Step 0, 2개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-21, 2개 항목
✅ 데이터베이스 저장 완료: 2025-10-21
INFO:     127.0.0.1:57883 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58698 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:58713 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58713 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58752 - "GET /latest-scan HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 7개 매칭, 93개 필터링, 총 100개 중
📊 Step 1 결과: 7개 종목
✅ Step 1에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 1, 5개 종목
INFO:     127.0.0.1:59117 - "GET /scan?save_snapshot=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:60411 - "GET /latest-scan HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 7개 매칭, 93개 필터링, 총 100개 중
📊 Step 0 결과: 7개 종목
✅ Step 0에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 0, 5개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 5개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:62598 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 7개 매칭, 93개 필터링, 총 100개 중
📊 Step 0 결과: 7개 종목
✅ Step 0에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 0, 5개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 5개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:63546 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17977]
INFO:     Started server process [46393]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46393]
INFO:     Started server process [46484]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 7개 매칭, 93개 필터링, 총 100개 중
📊 Step 1 결과: 7개 종목
✅ Step 1에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 1, 5개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 5개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:64480 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49280 - "GET /latest-scan HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46484]
INFO:     Started server process [50377]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:49781 - "GET /latest-scan HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [50377]
INFO:     Started server process [51954]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [51954]
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Started server process [52084]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 1 결과: 1개 종목
✅ Step 1에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 1, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:50269 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52084]
INFO:     Started server process [54844]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 1 결과: 1개 종목
✅ Step 1에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 1, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:51451 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'scanner.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54844]
INFO:     Started server process [57489]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 1 결과: 1개 종목
✅ Step 1에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 1, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:52645 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:53759 - "GET /analyze/000720 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53776 - "GET /analyze/000720 HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'scanner.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [57489]
INFO:     Started server process [60677]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 1 결과: 1개 종목
✅ Step 1에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 1, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:54040 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'scanner.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [60677]
INFO:     Started server process [63521]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 2}
🔧 프리셋 적용: {'min_signals': 2}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 1 결과: 1개 종목
✅ Step 1에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 1, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:55897 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [63521]
INFO:     Started server process [67968]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py', 'scanner.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [67968]
INFO:     Started server process [68201]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [68201]
INFO:     Started server process [69681]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69681]
INFO:     Started server process [69787]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 3}
🔧 프리셋 적용: {'min_signals': 3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 1 결과: 0개 종목
❌ Step 1 목표 미달: 0 < 1
🔄 Step 2: {'vol_ma5_mult': 2.0, 'vol_ma20_mult': 1.2}
🔧 프리셋 적용: {'vol_ma5_mult': 2.0, 'vol_ma20_mult': 1.2}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 2 결과: 0개 종목
❌ Step 2 목표 미달: 0 < 1
🔄 Step 3: {'gap_max': 0.018, 'ext_from_tema20_max': 0.018}
🔧 프리셋 적용: {'gap_max': 0.018, 'ext_from_tema20_max': 0.018}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 3 결과: 0개 종목
❌ Step 3 목표 미달: 0 < 1
🔄 Step 4: {'min_signals': 2, 'vol_ma5_mult': 1.8, 'require_dema_slope': 'optional'}
🔧 프리셋 적용: {'min_signals': 2, 'vol_ma5_mult': 1.8, 'require_dema_slope': 'optional'}
📊 스캔 완료: 6개 매칭, 94개 필터링, 총 100개 중
📊 Step 4 결과: 6개 종목
✅ Step 4에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 4, 5개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 5개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:57681 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69787]
INFO:     Started server process [75470]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 3}
🔧 프리셋 적용: {'min_signals': 3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 1 결과: 0개 종목
❌ Step 1 목표 미달: 0 < 1
🔄 Step 2: {'vol_ma5_mult': 2.2, 'vol_ma20_mult': 1.3}
🔧 프리셋 적용: {'vol_ma5_mult': 2.2, 'vol_ma20_mult': 1.3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 2 결과: 0개 종목
❌ Step 2 목표 미달: 0 < 1
🔄 Step 3: {'gap_max': 0.016, 'ext_from_tema20_max': 0.016}
🔧 프리셋 적용: {'gap_max': 0.016, 'ext_from_tema20_max': 0.016}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 3 결과: 0개 종목
❌ Step 3 목표 미달: 0 < 1
🔄 Step 4: {'min_signals': 3, 'vol_ma5_mult': 2.0, 'require_dema_slope': 'optional'}
🔧 프리셋 적용: {'min_signals': 3, 'vol_ma5_mult': 2.0, 'require_dema_slope': 'optional'}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 4 결과: 0개 종목
❌ Step 4 목표 미달: 0 < 1
⚠️ 모든 단계에서 목표 미달 - 마지막 단계 결과 사용
❌ 모든 단계에서 0개 결과 - 빈 리스트 반환
🔍 디버깅: universe=100개, market_condition=MarketCondition(date='2025-10-22', kospi_return=0.002141527001862098, volatility=0.0, market_sentiment='neutral', sector_rotation='mixed', foreign_flow='neutral', volume_trend='low', rsi_threshold=57.0, min_signals=3, macd_osc_min=0.0, vol_ma5_mult=1.8, gap_max=0.018, ext_from_tema20_max=0.018)
🎯 최종 선택: Step 0, 0개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 0개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:60518 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [75470]
INFO:     Started server process [81460]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81460]
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Started server process [83384]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83384]
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Started server process [83509]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 3}
🔧 프리셋 적용: {'min_signals': 3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 1 결과: 0개 종목
❌ Step 1 목표 미달: 0 < 1
🔄 Step 2: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
🔧 프리셋 적용: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 2 결과: 0개 종목
❌ Step 2 목표 미달: 0 < 1
🔄 Step 3: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
🔧 프리셋 적용: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 3 결과: 0개 종목
❌ Step 3 목표 미달: 0 < 1
🔄 Step 4: {'min_signals': 2, 'vol_ma5_mult': 1.6, 'require_dema_slope': 'optional'}
🔧 프리셋 적용: {'min_signals': 2, 'vol_ma5_mult': 1.6, 'require_dema_slope': 'optional'}
📊 스캔 완료: 6개 매칭, 94개 필터링, 총 100개 중
📊 Step 4 결과: 6개 종목
✅ Step 4에서 목표 달성: 5개 종목 선택
🎯 최종 선택: Step 4, 5개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 5개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:63903 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83509]
INFO:     Started server process [89130]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89130]
INFO:     Started server process [90074]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [90074]
INFO:     Started server process [90151]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 3}
🔧 프리셋 적용: {'min_signals': 3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 1 결과: 0개 종목
❌ Step 1 목표 미달: 0 < 1
🔄 Step 2: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
🔧 프리셋 적용: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 2 결과: 0개 종목
❌ Step 2 목표 미달: 0 < 1
🔄 Step 3: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
🔧 프리셋 적용: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 3 결과: 0개 종목
❌ Step 3 목표 미달: 0 < 1
🔄 Step 4: {'min_signals': 2, 'vol_ma5_mult': 1.6}
🔧 프리셋 적용: {'min_signals': 2, 'vol_ma5_mult': 1.6}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 4 결과: 1개 종목
✅ Step 4에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 4, 1개 종목
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-10-22, 1개 항목
✅ 데이터베이스 저장 완료: 2025-10-22
INFO:     127.0.0.1:50569 - "GET /scan?save_snapshot=true HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [90151]
INFO:     Started server process [95846]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 0 결과: 0개 종목
❌ Step 0 목표 미달: 0 < 1
🔄 Step 1: {'min_signals': 3}
🔧 프리셋 적용: {'min_signals': 3}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 1 결과: 0개 종목
❌ Step 1 목표 미달: 0 < 1
🔄 Step 2: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
🔧 프리셋 적용: {'vol_ma5_mult': 1.8, 'vol_ma20_mult': 1.2}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 2 결과: 0개 종목
❌ Step 2 목표 미달: 0 < 1
🔄 Step 3: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
🔧 프리셋 적용: {'gap_max': 0.02, 'ext_from_tema20_max': 0.02}
📊 스캔 완료: 0개 매칭, 100개 필터링, 총 100개 중
📊 Step 3 결과: 0개 종목
❌ Step 3 목표 미달: 0 < 1
🔄 Step 4: {'min_signals': 2, 'vol_ma5_mult': 1.6}
🔧 프리셋 적용: {'min_signals': 2, 'vol_ma5_mult': 1.6}
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 4 결과: 1개 종목
✅ Step 4에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 4, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2025-07-31
💰 수익률 계산 완료: 1개 결과
  000720: -13.33%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-07-31, 1개 항목
✅ 데이터베이스 저장 완료: 2025-07-31
INFO:     127.0.0.1:53411 - "GET /scan?date=2025-07-31&save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 0 결과: 1개 종목
✅ Step 0에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 0, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2025-08-15
💰 수익률 계산 완료: 1개 결과
  000720: -8.31%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-08-15, 1개 항목
✅ 데이터베이스 저장 완료: 2025-08-15
INFO:     127.0.0.1:54939 - "GET /scan?date=2025-08-15&save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 0 결과: 1개 종목
✅ Step 0에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 0, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2024-07-31
💰 수익률 계산 완료: 1개 결과
  000720: 74.89%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2024-07-31, 1개 항목
✅ 데이터베이스 저장 완료: 2024-07-31
INFO:     127.0.0.1:55303 - "GET /scan?date=2024-07-31&save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 0 결과: 1개 종목
✅ Step 0에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 0, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2025-07-31
💰 수익률 계산 완료: 1개 결과
  000720: -13.33%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-07-31, 1개 항목
✅ 데이터베이스 저장 완료: 2025-07-31
INFO:     127.0.0.1:56104 - "GET /scan?date=2025-07-31&save_snapshot=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:56426 - "POST /clear-cache HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 0 결과: 1개 종목
✅ Step 0에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 0, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2025-07-31
💰 수익률 계산 완료: 1개 결과
  000720: -13.33%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-07-31, 1개 항목
✅ 데이터베이스 저장 완료: 2025-07-31
INFO:     127.0.0.1:56483 - "GET /scan?date=2025-07-31&save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 1개 매칭, 99개 필터링, 총 100개 중
📊 Step 0 결과: 1개 종목
✅ Step 0에서 목표 달성: 1개 종목 선택
🎯 최종 선택: Step 0, 1개 종목
💰 수익률 계산 시작: 1개 종목, 날짜: 2025-06-15
💰 수익률 계산 완료: 1개 결과
  000720: -20.52%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-06-15, 1개 항목
✅ 데이터베이스 저장 완료: 2025-06-15
INFO:     127.0.0.1:56815 - "GET /scan?date=2025-06-15&save_snapshot=true HTTP/1.1" 200 OK
📊 시장 상황 분석: neutral (KOSPI: 0.00%, RSI 임계값: 57.0)
🔄 Fallback 로직 시작: universe=100개, fallback_enable=True
📊 Fallback 활성화 - 5단계 완화 시도
📊 목표: 최소 1개, 최대 5개
🔄 Step 0: 기본 조건
📊 스캔 완료: 3개 매칭, 97개 필터링, 총 100개 중
📊 Step 0 결과: 3개 종목
✅ Step 0에서 목표 달성: 3개 종목 선택
🎯 최종 선택: Step 0, 3개 종목
💰 수익률 계산 시작: 3개 종목, 날짜: 2025-07-31
💰 수익률 계산 완료: 3개 결과
  379800: 8.10%
  103590: 0.94%
  006400: 28.86%
🔍 save_snapshot 조건 확인: True (타입: <class 'bool'>)
✅ save_snapshot=True, 스냅샷 저장 시작
💾 데이터베이스 저장 시작: 2025-07-31, 3개 항목
✅ 데이터베이스 저장 완료: 2025-07-31
INFO:     127.0.0.1:58282 - "GET /scan?date=20250731&save_snapshot=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:61960 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61960 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62000 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
