INFO:     Will watch for changes in these directories: ['/Users/rexsmac/workspace/stock-finder/backend']
INFO:     Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO:     Started reloader process [74549] using WatchFiles
INFO:     Started server process [74552]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:53528 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:53530 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:53724 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53724 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74552]
INFO:     Started server process [75559]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:53944 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:54285 - "GET /reports/available/weekly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54287 - "GET /reports/available/monthly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54289 - "GET /reports/available/monthly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54291 - "GET /reports/available/yearly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54294 - "GET /reports/available/weekly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54296 - "GET /reports/available/quarterly HTTP/1.1" 200 OK
INFO:     127.0.0.1:54298 - "GET /reports/weekly/2025/8/1 HTTP/1.1" 200 OK
카카오 콜백 요청: {'code': 'J1bPbxvZqoZOdoKdM-KvOpTpg4lD0zfYhoy7EMrADOWeC4GMlZlcgwAAAAQKFyEtAAABmfgsnrqBPKUF0hG4dQ', 'redirect_uri': 'http://localhost:3000/kakao-callback'}
카카오 토큰 응답 상태: 200
카카오 토큰 응답 내용: {"access_token":"J3VPDNgLBS6PUFm3K35u02wp8x7kBP7JAAAAAQoXEC8AAAGZ-Cyp9bG7d-HwzTGR","token_type":"bearer","refresh_token":"SYoFuK73AkCIDsCb2I7zYLbZ5XbYJODoAAAAAgoXEC8AAAGZ-Cyp8LG7d-HwzTGR","id_token":"eyJraWQiOiI5ZjI1MmRhZGQ1ZjIzM2Y5M2QyZmE1MjhkMTJmZWEiLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI0ZWI1NzllNTI3MDllYTY0ZThiOTQxYjljOTVkMjBkYSIsInN1YiI6IjQ0NTY1ODUwMjMiLCJhdXRoX3RpbWUiOjE3NjA4MDUzMDAsImlzcyI6Imh0dHBzOi8va2F1dGgua2FrYW8uY29tIiwibmlja25hbWUiOiLshpDsp4TtmJUiLCJleHAiOjE3NjA4MTI1MDAsImlhdCI6MTc2MDgwNTMwMCwicGljdHVyZSI6Imh0dHA6Ly9rLmtha2FvY2RuLm5ldC9kbi9jd0V1ZzcvYnRzSlBGckhMSUwvM0UydlBFYmM5QXpEWGVZMW92djlEMC9pbWdfMTEweDExMC5qcGciLCJlbWFpbCI6ImVtb3plcm9AbmF2ZXIuY29tIn0.ejLzof9Gp990OnDwSRyz1crRafdkRCxjktc0fRSi53Qcfjvbpl1S7pGpKifnoinol6Awt-KFn8ld0_4urBlFm9rg3YhZK9cmqA4h9rpWfEefRnXmn31sjsF6o4t9pQHcmMCPYh4eOCz1dnl3ow5W100GUIfXWh51U1P1vfFe7JnQar6TK8qw33sUSW_dGoE6CZSkc7Vlbdyvmm6GFUIvBZS12_Z2AdEn9av5_0gbLIiBI5N8LGz3gPeg7r0yriPPzmcYg1A5oF1EOVMedTDZ4pItxn5-vBzd5pXIJqout3WOL6yQhGZWPLqo8T1v99Ab69FREsDih5KUnVew4N7Fmw","expires_in":7199,"scope":"account_email profile_image profile_nickname","refresh_token_expires_in":5183999}
카카오 사용자 정보 응답 상태: 200
카카오 사용자 정보 응답 내용: {"id":4456585023,"connected_at":"2025-09-20T14:50:32Z","properties":{"nickname":"손진형","profile_image":"http://k.kakaocdn.net/dn/cwEug7/btsJPFrHLIL/3E2vPEbc9AzDXeY1ovv9D0/img_640x640.jpg","thumbnail_image":"http://k.kakaocdn.net/dn/cwEug7/btsJPFrHLIL/3E2vPEbc9AzDXeY1ovv9D0/img_110x110.jpg"},"kakao_account":{"profile_nickname_needs_agreement":false,"profile_image_needs_agreement":false,"profile":{"nickname":"손진형","thumbnail_image_url":"http://k.kakaocdn.net/dn/cwEug7/btsJPFrHLIL/3E2vPEbc9AzDXeY1ovv9D0/img_110x110.jpg","profile_image_url":"http://k.kakaocdn.net/dn/cwEug7/btsJPFrHLIL/3E2vPEbc9AzDXeY1ovv9D0/img_640x640.jpg","is_default_image":false,"is_default_nickname":false},"has_email":true,"email_needs_agreement":false,"is_email_valid":true,"is_email_verified":true,"email":"emozero@naver.com"}}
사용자 정보 구성: {'provider': 'kakao', 'provider_id': '4456585023', 'email': 'emozero@naver.com', 'name': '손진형', 'profile_image': 'http://k.kakaocdn.net/dn/cwEug7/btsJPFrHLIL/3E2vPEbc9AzDXeY1ovv9D0/img_640x640.jpg', 'phone_number': '', 'gender': '', 'age_range': '', 'birthday': ''}
사용자 생성 요청: email='emozero@naver.com' name='손진형' provider='kakao' provider_id='4456585023' birth_year=None kakao_account='' gender=None age_group=None birthday=None is_profile_complete=False membership_tier=<MembershipTier.FREE: 'free'> subscription_status=<SubscriptionStatus.ACTIVE: 'active'> subscription_expires_at=None payment_method=None is_admin=False is_active=True
기존 사용자 발견: email=emozero@naver.com, provider=kakao
업데이트된 사용자: email='emozero@naver.com' name='손진형' provider='kakao' provider_id='4456585023' birth_year=None kakao_account=None gender=None age_group=None birthday=None is_profile_complete=False membership_tier=<MembershipTier.PREMIUM: 'premium'> subscription_status=<SubscriptionStatus.ACTIVE: 'active'> subscription_expires_at=None payment_method=None is_admin=True is_active=True id=7 created_at=datetime.datetime(2025, 9, 20, 15, 21, 47) last_login=datetime.datetime(2025, 10, 18, 16, 28, 5)
사용자 생성 완료: email='emozero@naver.com' name='손진형' provider='kakao' provider_id='4456585023' birth_year=None kakao_account=None gender=None age_group=None birthday=None is_profile_complete=False membership_tier=<MembershipTier.PREMIUM: 'premium'> subscription_status=<SubscriptionStatus.ACTIVE: 'active'> subscription_expires_at=None payment_method=None is_admin=True is_active=True id=7 created_at=datetime.datetime(2025, 9, 20, 15, 21, 47) last_login=datetime.datetime(2025, 10, 18, 16, 28, 5)
마지막 로그인 시간 업데이트 완료
INFO:     127.0.0.1:54298 - "POST /auth/kakao/callback HTTP/1.1" 200 OK
INFO:     127.0.0.1:54337 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:54292 - "GET /portfolio HTTP/1.1" 200 OK
INFO:     127.0.0.1:54401 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54292 - "GET /portfolio HTTP/1.1" 200 OK
INFO:     127.0.0.1:54401 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54466 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [75559]
INFO:     Started server process [78414]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:54549 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:54683 - "GET /portfolio HTTP/1.1" 200 OK
INFO:     127.0.0.1:54685 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54685 - "GET /portfolio HTTP/1.1" 200 OK
INFO:     127.0.0.1:54683 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54918 - "GET /latest-scan HTTP/1.1" 200 OK
INFO:     127.0.0.1:55022 - "GET /recurring-stocks?days=14&min_appearances=2 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78414]
INFO:     Started server process [81874]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:55683 - "GET /latest-scan HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [81874]
INFO:     Started server process [83295]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83295]
INFO:     Started server process [83406]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83406]
INFO:     Stopping reloader process [74549]
